(()=>{"use strict";var t={216:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.colorCodes=e.fps=e.screenHeight=e.screenWidth=e.SECOND=void 0,e.SECOND=1e3,e.screenWidth=640,e.screenHeight=480,e.fps=24,e.colorCodes=[0,132,33280,33412,8650752,8650884,8684032,13026246,8553090,255,65280,65535,16711680,16711935,16776960,16777215]},684:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InputManager=void 0;var n=/firefox/i.test(navigator.userAgent);function r(t){if(n){if(163===t)return 191;if(173===t)return 189;if(61===t)return 187;if(59===t)return 186}return t}var o=function(){function t(){var t=this;this.pressedKeys=new Set,this.keyHandlers=new Map,this.keydown=function(e){var n=r(e.keyCode);t.pressedKeys.add(n);var o=t.keyHandlers.get(n);o&&o()},this.keyup=function(e){var n=r(e.keyCode);t.pressedKeys.delete(n);var o=t.keyHandlers.get(n);o&&o()},window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup),window.addEventListener("blur",(function(){return t.pressedKeys.clear()}))}return Object.defineProperty(t.prototype,"shift",{get:function(){return this.pressedKeys.has(16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ctrl",{get:function(){return this.pressedKeys.has(17)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alt",{get:function(){return this.pressedKeys.has(18)},enumerable:!1,configurable:!0}),t.prototype.onPressed=function(t,e){var n=this;this.keyHandlers.set(t,(function(){n.pressedKeys.has(t)&&e()}))},t.prototype.onReleased=function(t,e){var n=this;this.keyHandlers.set(t,(function(){n.pressedKeys.has(t)||e()}))},t.prototype.isPressed=function(t){return this.pressedKeys.has(t)},t}();e.InputManager=o},351:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.splitColorHexToArray=e.xyToIndex=e.pointToIndex=e.distance=e.point=e.isNumber=e.times2=e.times=void 0,e.times=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},e.times2=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return Promise.resolve(n)},e.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},e.point=function(t,e){return{x:t,y:e}},e.distance=function(t,e,n,r){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))};e.pointToIndex=function(t,e){return t.x+t.y*e};e.xyToIndex=function(t,e,n){return t+e*n},e.splitColorHexToArray=function(t){return new Uint8ClampedArray([t>>16&255,t>>8&255,255&t,255])}},709:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.drawCanvasBuffer=e.createCanvas=void 0;var r=n(44);function o(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}e.createCanvas=o;var i=new Map;e.drawCanvasBuffer=function(t,e,n,s){var a=i.get(t);if(a)return a;a=o(e,n);var c=new r.SpriteBatch(a);return c.start(),s(c),c.end(),i.set(t,a),a}},241:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenRenderer=void 0;var r=n(216),o=n(684),i=n(351),s=n(641),a=n(696),c=n(709),u=n(44),l=n(380),h=function(){function t(){if(this.canvas=(0,c.createCanvas)(r.screenWidth,r.screenHeight),this.console=new a.Console(r.screenWidth,r.screenHeight),this.input=new o.InputManager,this.conio=new s.ConIO(this.console,this.input),this.lastDraw=0,this.touchStart=(0,i.point)(0,0),this.touchCurrent=(0,i.point)(100,100),this.canvas.id="canvas",this.canvas.style.userSelect="none",this.canvas.style.webkitUserSelect="none",this.setTouch(),document.body.appendChild(this.canvas),this.batch=new u.SpriteBatch(this.canvas),requestAnimationFrame(this.redraw.bind(this)),this.resize(),"GhzWCRO7VjnoAXeF"!==(document.body.getAttribute("data-hash")||""))return t.inputDisabled=!0,this.conio.out("a newer version detected, updating..."),void setTimeout((function(){return location.reload(!0)}),3e3);this.conio.out("littlefaith9.github.io [version ","0.1.2","]:").out(" Command Prompt").endl().out(navigator.userAgent).out(" ").endl().out(navigator.vendor).endl().out("type 'help' to see all commands").endl().endl().out("A:\\>"),this.conio.init()}return Object.defineProperty(t.prototype,"originScale",{get:function(){return Math.max(1,(t.stretch?Math.min(window.innerWidth/r.screenWidth,window.innerHeight/r.screenHeight):1)*t.scale)},enumerable:!1,configurable:!0}),t.prototype.setTouch=function(){var e=this;isMobile&&(this.centerButton=document.createElement("button"),this.centerButton.textContent="↖",this.centerButton.style.backgroundColor="#ffffff1f",this.centerButton.style.borderColor="#ffffff2f",this.centerButton.style.color="#ffffff2f",this.centerButton.style.borderRadius="20px",this.centerButton.style.position="fixed",this.centerButton.style.bottom="0",this.centerButton.style.right="0",this.centerButton.style.margin="auto",this.centerButton.onclick=function(){window.scrollTo(0,0)},document.body.appendChild(this.centerButton),this.centerButton.style.height=this.centerButton.clientWidth+"px",this.inputHelper=document.createElement("input"),this.inputHelper.type="text",this.inputHelper.autocapitalize="off",this.inputHelper.autocomplete="off",this.inputHelper.spellcheck=!1,this.inputHelper.setAttribute("autocorrect","off"),this.inputHelper.style.position="absolute",this.inputHelper.style.backgroundColor="transparent",this.inputHelper.style.color="transparent",this.inputHelper.style.borderColor="transparent",this.inputHelper.style.width="0",this.inputHelper.style.caretColor="transparent",this.inputHelper.style.outline="none",document.body.appendChild(this.inputHelper),this.updateHelperPos(),this.canvas.addEventListener("touchstart",(function(t){var n,r;e.touchCurrent.x=e.touchStart.x=(null===(n=t.touches.item(0))||void 0===n?void 0:n.clientX)||0,e.touchCurrent.y=e.touchStart.y=(null===(r=t.touches.item(0))||void 0===r?void 0:r.clientY)||0})),this.canvas.addEventListener("touchmove",(function(t){var n,r;e.touchCurrent.x=(null===(n=t.touches.item(0))||void 0===n?void 0:n.clientX)||e.touchStart.x,e.touchCurrent.y=(null===(r=t.touches.item(0))||void 0===r?void 0:r.clientY)||e.touchStart.y})),this.canvas.addEventListener("touchend",(function(){var n,r=(0,i.distance)(e.touchStart.x,e.touchStart.y,e.touchCurrent.x,e.touchCurrent.y);!t.inputDisabled&&r<15&&(null===(n=e.inputHelper)||void 0===n||n.focus())})))},t.prototype.updateHelperPos=function(){isMobile&&(this.inputHelper.value="",this.inputHelper.style.left=(this.console.currentPos.x*l.fontWidth).toString()+"px",this.inputHelper.style.top=(this.console.currentPos.y*l.fontHeight).toString()+"px",window.scrollX=Math.max(0,window.scrollX),window.scrollY=Math.max(0,window.scrollY))},t.prototype.resize=function(){this.canvas.width=Math.floor(r.screenWidth*this.originScale),this.canvas.height=Math.floor(r.screenHeight*this.originScale)},t.prototype.redraw=function(t){if(t-this.lastDraw<r.SECOND/r.fps)return this.lastDraw=t,requestAnimationFrame(this.redraw.bind(this));this.canvas.width===Math.floor(r.screenWidth*this.originScale)&&this.canvas.height===Math.floor(r.screenHeight*this.originScale)||this.resize();var e=Math.max(0,(window.innerHeight-this.canvas.height)/2).toFixed(0)+"px";this.canvas.style.marginTop!==e&&(this.canvas.style.marginTop=e),this.batch.start(),this.batch.setSmoothing(!1),this.batch.scale(this.originScale,this.originScale),this.batch.clear(),this.console.draw(this.batch,t),this.batch.end(),this.updateHelperPos(),requestAnimationFrame(this.redraw.bind(this))},t.inputDisabled=!1,t.scale=1,t.stretch="0"!==localStorage.getItem("stretch"),t}();e.ScreenRenderer=h},44:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SpriteBatch=void 0;var r=n(216),o=n(351),i=n(709),s=n(380),a=function(){function t(t){this.canvas=t,this.context=null,this.lastFontColor=1,this.lastFontColorSet=new Uint8ClampedArray}return Object.defineProperty(t.prototype,"bgColor",{get:function(){return"#"+r.colorCodes[t.colorBG].toString(16).padStart(6,"0")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontColorSet",{get:function(){var e=r.colorCodes[t.colorFG];return e!==this.lastFontColor&&(this.lastFontColor=e,this.lastFontColorSet=(0,o.splitColorHexToArray)(e)),this.lastFontColorSet},enumerable:!1,configurable:!0}),t.prototype.start=function(){var t;this.context=this.canvas.getContext("2d"),null===(t=this.context)||void 0===t||t.save()},t.prototype.drawCharFromCode=function(t,e,n){s.fontLoaded&&this.drawChar(s.fontSprites[t],e,n)},t.prototype.drawCharFromChar=function(t,e,n){s.fontLoaded&&this.drawChar((0,s.fontSprites)(t),e,n)},t.prototype.drawChar=function(e,n,r){var o=this;if(this.context){var a=e.getContext("2d").getImageData(0,0,s.fontWidth,s.fontHeight);a.data.forEach((function(t,e,n){e%4==0&&t&&n.set(o.fontColorSet,e)}));var c=(0,i.drawCanvasBuffer)("".concat(e.id,"-").concat(t.colorBG.toString(16)).concat(t.colorFG.toString(16)),s.fontWidth,s.fontHeight,(function(t){return t.context.putImageData(a,0,0)}));this.context.drawImage(c,n,r)}},t.prototype.drawImage=function(t,e,n){this.context&&this.context.drawImage(t,e,n)},t.prototype.setSmoothing=function(t){this.context&&(this.context.imageSmoothingEnabled=t)},t.prototype.scale=function(t,e){var n;null===(n=this.context)||void 0===n||n.scale(t,e)},t.prototype.clear=function(){this.context&&(this.context.fillStyle=this.bgColor,this.context.fillRect(0,0,this.canvas.width,this.canvas.height))},t.prototype.end=function(){var t;null===(t=this.context)||void 0===t||t.restore(),this.context=null},t.colorBG=0,t.colorFG=7,t}();e.SpriteBatch=a},380:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.fontLoaded=e.fontSprites=e.getCharcode=e.asciiChars=e.fontHeight=e.fontWidth=void 0;var i=n(351),s=n(709);e.fontWidth=8,e.fontHeight=18;function a(t){var n=e.asciiChars.indexOf(t.charAt(0));return-1===n?63:n}e.asciiChars=["","☺","☻","♥","♦","♣","♠","•","◘","○","◙","♂","♀","♪","♫","☼","►","◄","↕","‼","¶","§","▬","↨","↑","↓","→","←","∟","↔","▲","▼"," ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","⌂","Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","¢","£","¥","₧","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","⌐","¬","½","¼","¡","«","»","░","▒","▓","│","┤","╡","╢","╖","╕","╣","║","╗","╝","╜","╛","┐","└","┴","┬","├","─","┼","╞","╟","╚","╔","╩","╦","╠","═","╬","╧","╨","╤","╥","╙","╘","╒","╓","╫","╪","┘","┌","█","▄","▌","▐","▀","α","ß","Γ","π","Σ","σ","µ","τ","Φ","Θ","Ω","δ","∞","φ","ε","∩","≡","±","≥","≤","⌠","⌡","÷","≈","°","∙","⋅","√","ⁿ","²","■","\n"],e.getCharcode=a,e.fontLoaded=!1,r(void 0,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return(t=document.createElement("img")).src="./assets/spritefont.png",[4,new Promise((function(e){var n=setInterval((function(){t.complete&&(clearInterval(n),e())}),500)}))];case 1:return n.sent(),e.fontSprites=function(t){return e.fontSprites[a(t)]},[4,(0,i.times2)(256,(function(n){return e.fontSprites[n]=(r={x:1+(a=n)%16*(1+e.fontWidth),y:1+Math.floor(a/16)*(1+e.fontHeight)},o=n,(i=(0,s.createCanvas)(e.fontWidth,e.fontHeight)).id=o.toString(16),i.getContext("2d").drawImage(t,r.x,r.y,e.fontWidth,e.fontHeight,0,0,e.fontWidth,e.fontHeight),i);var r,o,i,a}))];case 2:return n.sent(),e.fontLoaded=!0,[2]}}))}))},476:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Beeper=void 0;var n=function(){function t(){}return t.createOscillator=function(t,e){this.context=this.context||new AudioContext;var n=this.context.createOscillator();return n.type=e,n.frequency.value=t,n.connect(this.context.destination),n},t.beep=function(t,e,n){var r;void 0===e&&(e=800),void 0===n&&(n="triangle");try{null===(r=this.oscillator)||void 0===r||r.stop(this.context.currentTime)}catch(t){}this.oscillator=this.createOscillator(e,n);var o=this.context.currentTime;this.oscillator.start(o),this.oscillator.stop(o+t)},t.stop=function(){var t;try{null===(t=this.oscillator)||void 0===t||t.stop(this.context.currentTime)}catch(t){}},t}();e.Beeper=n},358:function(t,e,n){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.handleCommands=void 0;var s=n(351),a=n(241),c=n(44),u=n(380),l=n(476),h=n(161);function f(t,e,n,r){var o;return(o={})[t]={param:e,desc:n,handler:r},o}var p=r(r(r(r(r(r(r(r(r(r(r({},f("help","(opt)<command>","show help message",(function(t,e){var n=t[0]&&p[t[0]];e(n?"".concat(t[0]," - ").concat(n.desc)+"\n":Object.entries(p).map((function(t){return"".concat(t[0]).concat(t[1].param?" "+t[1].param:""," - ").concat(t[1].desc)})).join("\n")+"\n")}))),f("about","","print about website",(function(t,e){e("                             ▓▓▓▓             \n                            ▓██▓▓▓            \n                     ▓▒▒▒▒▓▓████▓▓▓           \n    ▓▓▓▓▓▓▓▒▓ ▓▓▒▒▒▒▒▒▒▒▒▒▒▓████▓▓▓           \n        ▓▓▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓████▓▓▓           \n      ▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▓███▓▓▓▓           \n       ▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░▒▓███▓▓▓▓           \n         ▒▒▒▒▒▒▒▒▒▒▒▒░░▒▓▓▓▓▓▓▓▓▓▓▓           \n         ▒▒▒▒▒▒▒▒▒▒░░░░▒▒▒▓▓▓▓▓▓▓▒▒▓          \n         ▒▒▒▒▒▒▒▒▒░▒▓▒▓█▓▒▒▒▒▓▓▒▒▒▒▒▓         \n         ▒░░░░▒▒░░▓██▓██▓░░▓▒▓▓▓▒▒▒▓          \n        ▓▒░░░░░▒████████▓▒▒▓▓▓▓▒▒▒▒           \n       ▓▒░░░░░▒▓████▓▓▓▓▓▓▓▓▓▓▒▒▒▒▓           \n      ▓▒░░░▒▓ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▓             \n                 ▓▓▓▓▒▒░░░░░▒▒▓               \n              ▓▒░░░▒▒▒░░░░░▒▒▒                \n              ▓▒░░▒▒▒▒░░░░░▒▒▒▓               \n               ▓░░░▒▒▒▒░░░░░▒▒▓               \nHello! It's Faith Donk.\nThe site is in development.\nStay tuned for more stuff!\n")}))),f("echo","<message>","print message you typed",(function(t,e){e(t.join(" ")+"\n")}))),f("cls","","clear screen",(function(t,e,n){n.clear.call(n)}))),f("color","(optional)<BG/FG>","change colors",(function(t,e){function n(){e("Sets the default command prompt forground and background colors\n\n"),e("COLOR [attr]\n\n"),e("  attr        Specifies color attribute of command prompt output\n\n"),e("Color attributes are specified by TWO hex digits -- the first corresponds to the background; the second the forground. Each digit can be any of the following values:\n\n"),e("    0 = Black       8 = Gray\n"),e("    1 = Blue        9 = Light Blue\n"),e("    2 = Green       A = Light Green\n"),e("    3 = Aqua        B = Light Aqua\n"),e("    4 = Red         C = Light Red\n"),e("    5 = Purple      D = Light Purple\n"),e("    6 = Yellow      E = Light Yellow\n"),e("    7 = White       F = Light White\n\n"),e("If no argument is given, this command restores the color to what it was when command prompt started.\n\n"),e("the COLOR command sets ERRORLEVEL to 1 if an attempt is made to execute the COLOR command with a foreground and background color that are the same.\n\n"),e('Example: "COLOR fc" produces light red on bright white\n')}if(!t[0])return c.SpriteBatch.colorBG=0,void(c.SpriteBatch.colorFG=7);if(t[0][0]&&t[0][1]){var r=parseInt(t[0][1],16),o=parseInt(t[0][0],16);if(r===o)return n();if(!(0,s.isNumber)(r)||r<0||r>15)return n();if(!(0,s.isNumber)(r)||o<0||o>15)return n();c.SpriteBatch.colorFG=r,c.SpriteBatch.colorBG=o}}))),f("scale","<number>","set scale",(function(t){var e=parseFloat(t[0]);t[0]&&e?a.ScreenRenderer.scale=e:a.ScreenRenderer.scale=a.ScreenRenderer.scale%2+1}))),f("beep","<second> <frequency>","make beep sound",(function(t){var e=parseInt(t[0])||1,n=parseInt(t[1])||800;l.Beeper.beep(e,n)}))),f("info","","show browser & device info",(function(t,e){e("codeName:"+navigator.appCodeName+"\n"),e("name:"+navigator.appName+"\n"),e("version:"+navigator.appVersion+"\n"),e("platform:"+navigator.platform+"\n"),e("userAgent:"+navigator.userAgent+"\n")}))),f("gui","","[WIP?]Graphic User Interface",(function(t,e,n){return new h.GlitchScreen(n).run()}))),f("exit","","close window",(function(){return window.close()}))),f("stretch","","toggle stretch",(function(t,e){a.ScreenRenderer.stretch=!a.ScreenRenderer.stretch,e("stretch is "+(a.ScreenRenderer.stretch?"on":"off")+"\n"),localStorage.setItem("stretch",a.ScreenRenderer.stretch?"1":"0")})));e.handleCommands=function(t,e,n){return o(this,void 0,void 0,(function(){var r,o,s,a,c,l;return i(this,(function(i){switch(i.label){case 0:for(r="",o=0,s=Array.from(t);o<s.length&&0!==(a=s[o]);o++)r+=u.asciiChars[a];return c=r.split(" "),(l=p[c.shift()||""])?[3,1]:(e("Bad command or file name\n"),[3,3]);case 1:return[4,l.handler(c,e,n)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}},641:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConIO=void 0;var i=n(351),s=n(241),a=n(380),c=n(358);function u(t,e){(0,i.times)(26,(function(e){return t(65+e,[65+e,65+e+32])})),t(13,[255,255]),t(32,[32,32]),t(48,[41,48]),t(49,[33,49]),t(50,[64,50]),t(51,[35,51]),t(52,[36,52]),t(53,[37,53]),t(54,[94,54]),t(55,[38,55]),t(56,[42,56]),t(57,[40,57]),t(96,[48,48]),t(97,[49,49]),t(98,[50,50]),t(99,[51,51]),t(100,[52,52]),t(101,[53,53]),t(102,[54,54]),t(103,[55,55]),t(104,[56,56]),t(105,[57,57]),t(106,[42,42]),t(107,[43,43]),t(109,[45,54]),t(110,[46,46]),t(111,[47,47]),t(186,[58,59]),t(187,[43,61]),t(188,[44,60]),t(189,[95,45]),t(190,[62,46]),t(191,[63,47]),t(192,[126,96]),t(219,[123,91]),t(220,[124,92]),t(221,[125,93]),t(222,[34,39]),e(8,this.backspace.bind(this)),e(37,this.backspace.bind(this))}var l=function(){function t(t,e){this.console=t,this.input=e,this.inBuffer=new Uint8Array(256),this.bufferPos=0}return t.prototype.handlerFromCharTyping=function(t,e){var n=this;this.input.onPressed(t,(function(){n.input.shift?n.handleInput(e[0]):n.handleInput(e[1])}))},t.prototype.handleInput=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return s.ScreenRenderer.inputDisabled?[2]:(this.console.print(a.asciiChars[t]),255!==t?[3,2]:(s.ScreenRenderer.inputDisabled=!0,[4,(0,c.handleCommands)(this.inBuffer,this.out.bind(this),this.console)]));case 1:return e.sent(),this.inBuffer.fill(0),this.bufferPos=0,this.console.posIndex>0&&this.endl(),this.out("A:\\>"),s.ScreenRenderer.inputDisabled=!1,[3,3];case 2:this.inBuffer[this.bufferPos++]=t,e.label=3;case 3:return[2]}}))}))},t.prototype.backspace=function(){0!==this.bufferPos&&(this.console.buffer[--this.console.posIndex]=0,this.inBuffer[--this.bufferPos]=0)},t.prototype.out=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.forEach((function(e){return t.console.print("".concat(e))})),this},t.prototype.endl=function(){return this.console.endl(),this},t.prototype.init=function(){u.call(this,this.handlerFromCharTyping.bind(this),this.input.onPressed.bind(this.input))},t}();e.ConIO=l},696:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Console=void 0;var r=n(351),o=n(241),i=n(380),s=function(){function t(t,e){this.screenW=t,this.screenH=e,this.currentPos=(0,r.point)(0,0),this.w=Math.floor((this.screenW-10)/i.fontWidth),this.h=Math.floor((this.screenH-10)/i.fontHeight),this.buffer=new Uint8Array(this.w*this.h)}return Object.defineProperty(t.prototype,"posIndex",{get:function(){return(0,r.pointToIndex)(this.currentPos,this.w)},set:function(t){this.currentPos.x=t%this.w,this.currentPos.y=Math.floor(t/this.w)},enumerable:!1,configurable:!0}),t.prototype.print=function(t){var e=this;Array.isArray(t)?t.forEach((function(t){255===t?e.endl():(e.posIndex+1>=e.buffer.length&&e.endl(),e.buffer[e.posIndex++]=t)})):t.split("").forEach((function(t){"\n"===t?e.endl():(e.posIndex+1>=e.buffer.length&&e.endl(),e.buffer[e.posIndex++]=(0,i.getCharcode)(t))}))},t.prototype.endl=function(){if(this.currentPos.x=0,this.currentPos.y+1>=this.h){var t=this.buffer.slice(this.w);this.buffer.fill(0),this.buffer.set(t)}else this.currentPos.y++},t.prototype.clear=function(){this.buffer.fill(0),this.currentPos.x=0,this.currentPos.y=0},t.prototype.draw=function(t,e){for(var n=0;n<this.h;n++)for(var s=0;s<this.w;s++)t.drawCharFromCode(this.buffer[(0,r.xyToIndex)(s,n,this.w)],10+s*i.fontWidth,10+n*i.fontHeight);e%500<250&&!o.ScreenRenderer.inputDisabled&&t.drawCharFromChar("▬",10+this.currentPos.x*i.fontWidth,10+this.currentPos.y*i.fontHeight)},t}();e.Console=s},161:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.GlitchScreen=void 0;var i=n(351),s=n(44),a=n(476),c=function(){function t(t){this.console=t,this.lastColorBG=s.SpriteBatch.colorBG,this.lastColorFG=s.SpriteBatch.colorFG,this.running=!0}return t.prototype.run=function(){return r(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){switch(n.label){case 0:return t=function(t){27===t.keyCode&&(e.running=!1)},window.addEventListener("keydown",t),this.bs(),[4,this.clear()];case 1:return n.sent(),[4,this.glitch()];case 2:return n.sent(),s.SpriteBatch.colorBG=this.lastColorBG,s.SpriteBatch.colorFG=this.lastColorFG,this.console.clear(),window.removeEventListener("keydown",t),a.Beeper.stop(),[2]}}))}))},t.prototype.bs=function(){s.SpriteBatch.colorBG=1,s.SpriteBatch.colorFG=15},t.prototype.clear=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return this.console.clear(),this.console.currentPos.x=0,this.console.currentPos.y=this.console.h-5,this.console.print((0,i.times)(this.console.w,(function(){return 250}))),this.console.currentPos.x=Math.floor(this.console.w/2)-8,this.console.print("starting GUI..."),this.console.currentPos.x=0,this.console.currentPos.y=this.console.h-5,[4,new Promise((function(t){return setTimeout(t,1e3)}))];case 1:e.sent(),t=0,e.label=2;case 2:return t<32+16*Math.random()?(this.console.print(">"),[4,new Promise((function(t){return setTimeout(t,1)}))]):[3,5];case 3:e.sent(),e.label=4;case 4:return t++,[3,2];case 5:return[4,new Promise((function(t){return setTimeout(t,1e3)}))];case 6:return e.sent(),[2]}}))}))},t.prototype.glitch=function(){var t=this;return this.console.posIndex=this.console.w*this.console.h-1,this.console.print("Unsupported platform"),new Promise((function(e){var n=0,r=setInterval((function(){for((!t.running||n++>64&&Math.random()<.1)&&(clearInterval(r),e()),n%10==1&&a.Beeper.beep(5);Math.random()<.2;){var o=Math.floor(Math.random()*t.console.w);t.console.print((0,i.times)(o,(function(){return 32})))}var s=Math.floor(Math.random()*t.console.w),c=(0,i.times)(s,(function(){return Math.floor(256*Math.random())}));t.console.print(c)}),200)}))},t}();e.GlitchScreen=c}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(()=>{var t=n(241);document.onselectstart=function(){return!1};var e,r=document.createElement("style");r.innerHTML="html{-ms-overflow-style:none;scrollbar-width:none;background-color:#000;cursor:none;}body{margin:0;text-align:center;}html::-webkit-scrollbar{display:none;}",document.body.appendChild(r),window.addEventListener("keydown",(function(t){32===t.keyCode&&t.preventDefault()})),window.isMobile=(e=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))),new t.ScreenRenderer})()})();